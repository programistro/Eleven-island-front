import{G as is,j as i,i as ds,r as a,a as ns,f as ps,l as Y,L as W}from"./index-B6U29ZPA.js";import{B as hs,S as us}from"./SendEmail-NBJy7Jqa.js";import{u as q}from"./store-u8fOXZZW.js";import{S as xs}from"./index-C3IVKeGk.js";import{H as gs,T as M,C as z}from"./Helmet-vEc1EUYL.js";const js="/assets/NewCollection-Dir2tLfr.svg",J="data:image/svg+xml,%3csvg%20width='22'%20height='22'%20viewBox='0%200%2022%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.125%202.81982L16%200.944824L21%205.94482L6%2020.9448L1%2015.9448L2.875%2014.0698M14.125%202.81982L2.875%2014.0698M14.125%202.81982L8.5%208.44482M8.5%208.44482L10.5%2010.4448M8.5%208.44482L2.875%2014.0698M3.5%2013.4448L5.5%2015.4448M6%2010.9448L9%2013.9448M11%205.94482L14%208.94482M13.5%203.44482L15.5%205.44482'%20stroke='%23262626'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",K="/assets/popup-pc-yMEN1vOf.svg",E="data:image/svg+xml,%3csvg%20width='68'%20height='20'%20viewBox='0%200%2068%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='68'%20height='20'%20rx='4'%20fill='black'/%3e%3cg%20clip-path='url(%23clip0_228_3480)'%3e%3cpath%20d='M15.9392%206H14.6044V12.7689H15.9392V6Z'%20fill='white'/%3e%3cpath%20d='M13.0711%206.37876H11.7363V13.1475H13.0711V6.37876Z'%20fill='white'/%3e%3cpath%20d='M10.203%206.80162H8.86814V13.5716H10.203V6.80162Z'%20fill='white'/%3e%3cpath%20d='M7.33482%207.22917H6L6.00001%2014H7.33482L7.33482%207.22917Z'%20fill='white'/%3e%3cpath%20d='M51.194%209.60607L49.0447%207.21646H47.7882V12.7492H49.1001V9.21922L51.0623%2011.3106H51.3047L53.2332%209.21922V12.7492H54.5451V7.21646H53.2886L51.194%209.60607Z'%20fill='white'/%3e%3cpath%20d='M60.795%207.21646L57.5435%2010.8126V7.21646H56.2316V12.7492H57.4335L60.685%209.15313V12.7492H61.9969V7.21646H60.795Z'%20fill='white'/%3e%3cpath%20d='M40.7222%209.24098C40.7222%2010.1219%2041.2039%2010.8158%2041.9433%2011.1067L40.5568%2012.7492H42.1625L43.4238%2011.255H44.7886V12.7492H46.1005V7.21646H42.7606C41.5154%207.21646%2040.7222%208.06834%2040.7222%209.24098ZM44.7895%208.43504V10.0711H43.0039C42.4082%2010.0711%2042.0886%209.73905%2042.0886%209.25226C42.0886%208.76548%2042.4194%208.43343%2043.0039%208.43343L44.7895%208.43504Z'%20fill='white'/%3e%3cpath%20d='M34.626%208.32302C34.5457%2010.2258%2034.1443%2011.4541%2033.3583%2011.4541H33.1616V12.7823L33.3712%2012.7936C34.9472%2012.8814%2035.8183%2011.4984%2035.9612%208.47776H38.0341V12.7492H39.3436V7.21646H34.6702L34.626%208.32302Z'%20fill='white'/%3e%3cpath%20d='M29.6877%207.13916C27.9134%207.13916%2026.6369%208.36741%2026.6369%209.98251C26.6369%2011.6532%2028.0258%2012.838%2029.6877%2012.838C31.4187%2012.838%2032.7635%2011.5871%2032.7635%209.98251C32.7635%208.37789%2031.4187%207.13916%2029.6877%207.13916ZM29.6877%2011.5098C28.685%2011.5098%2028.0017%2010.857%2028.0017%209.98251C28.0017%209.08631%2028.6858%208.45123%2029.6877%208.45123C30.6897%208.45123%2031.3962%209.11532%2031.3962%209.98251C31.3962%2010.8497%2030.6801%2011.5098%2029.6877%2011.5098Z'%20fill='white'/%3e%3cpath%20d='M25.2456%207.2269H20.6155L20.5713%208.33345C20.5055%209.9276%2020.0896%2011.4436%2019.3036%2011.4653L18.9399%2011.4766V13.9998L20.263%2013.9971V12.75H24.8594V13.9971H26.1937V11.4653H25.2456V7.2269ZM23.9337%2011.4653H21.1341C21.6078%2010.7464%2021.8615%209.70597%2021.9057%208.489H23.9337V11.4653Z'%20fill='white'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_228_3480'%3e%3crect%20width='56'%20height='8'%20fill='white'%20transform='translate(6%206)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",ss="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cmask%20id='mask0_228_3482'%20style='mask-type:alpha'%20maskUnits='userSpaceOnUse'%20x='0'%20y='0'%20width='16'%20height='16'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M12.5%208L6.65782%202L5.31564%203.42335L9.81564%208L5.31564%2012.5766L6.65782%2014L12.5%208Z'%20fill='black'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_228_3482)'%3e%3crect%20width='16'%20height='16'%20fill='%23C7C9CC'/%3e%3c/g%3e%3c/svg%3e",ms="/assets/DalymiImgMobile-pQ3GQRNY.svg",vs="/assets/DalymiImgPc-lRzGVaL1.svg";function P(o){return is({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M224,128a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H216A8,8,0,0,1,224,128Z"},child:[]}]})(o)}function f(o){return is({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"},child:[]}]})(o)}function ys({img:o,setImg:s,element:r}){return console.log(r),i.jsx("div",{onClick:()=>s({open:!1,img:null}),className:"ImageCom",children:r?i.jsxs("div",{children:[i.jsx("img",{src:o,alt:"img"}),i.jsxs("div",{className:"ImageComDiv",children:[i.jsxs("div",{children:[r==null?void 0:r.priceDalymi," ₽"]}),i.jsxs("div",{children:[r==null?void 0:r.priceDalymi," ₽"]}),i.jsxs("div",{children:[r==null?void 0:r.priceDalymi," ₽"]}),i.jsxs("div",{children:[r==null?void 0:r.priceDalymi," ₽"]})]})]}):i.jsx("img",{src:o,alt:"img"})})}const w=o=>{const[s,r]=a.useState(window.matchMedia(o).matches);return a.useEffect(()=>{const e=window.matchMedia(o),u=()=>r(e.matches);return e.addEventListener("change",u),()=>e.removeEventListener("change",u)},[o]),s};function Ns(){var T,G,R,$,X;const{id:o}=ds(),{findeElement:s,findeProduct:r}=q(),[e,u]=a.useState(null),[ws,_]=a.useState(()=>localStorage.getItem("colorVibor")||"");console.log("===================================="),console.log("findeElement",s),console.log("====================================");const[b,ts]=a.useState(!0),[S,cs]=a.useState(!1),[N,os]=a.useState(!1),{dataGelary:C,setDataGelary:H}=ns(),B=["XXS","XS","S","M","L","XL","XXL"],[Z,rs]=a.useState([]),[L,as]=a.useState([]),{photos:k,fetchPhotos:Cs}=q(),[j,O]=a.useState(L[0]),[I,g]=a.useState({open:!1,img:null,element:{}});a.useEffect(()=>{var t,c;L.length>0&&(O(L[0]),_((c=(t=s==null?void 0:s.colors)==null?void 0:t[0])==null?void 0:c.name))},[L,s]);const es=()=>{ts(!b)};a.useEffect(()=>{r(o);const c=document.getElementById("topSity").getBoundingClientRect().top+window.scrollY;window.scrollTo({top:c-100,behavior:"smooth"})},[o]),a.useEffect(()=>{var t;if(s!=null&&s.sizes){const c=[];(t=s==null?void 0:s.sizes)==null||t.map(l=>{c.push(l.sizeValue)}),as(c)}},[s==null?void 0:s.sizes]);const A=(t,c)=>{var d,n;const l=C.find(p=>p.id===o);if(l){const p=C.filter(V=>V.id!==l.id);H([...p,{...l,count:e||1,countPrice:l.price*e}])}else c&&H([...C,{id:o,idProduct:s==null?void 0:s.idProduct,title:s==null?void 0:s.name,name:s==null?void 0:s.shortDescription,price:s==null?void 0:s.price,size:j,count:1,titleImg:(d=s==null?void 0:s.images)==null?void 0:d[0],countPrice:s==null?void 0:s.price}]),e&&H([...C,{id:o,idProduct:s==null?void 0:s.idProduct,title:s==null?void 0:s.name,name:s==null?void 0:s.shortDescription,price:s==null?void 0:s.price,size:j,count:e||1,titleImg:(n=s==null?void 0:s.images)==null?void 0:n[0],countPrice:s==null?void 0:s.price}])};a.useEffect(()=>{e&&A()},[e]),console.log(window.Dolyame);const m="1020px",ls={className:"slider1 product-gelary variable-width-menu",dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1},D=ps(),h={title:s==null?void 0:s.meta_title,description:s==null?void 0:s.meta_keywords,url:D==null?void 0:D.pathname,image:(T=s==null?void 0:s.images)==null?void 0:T[0],siteName:"ELEVEN ISLANDS",keywords:s==null?void 0:s.meta_descriptioт};return a.useEffect(()=>{var t,c,l,d,n,p,V,F,Q,U;(n=(d=(l=(c=(t=s==null?void 0:s.colors)==null?void 0:t.filter(x=>{var v,y;return((y=(v=x==null?void 0:x.name)==null?void 0:v.split("|"))==null?void 0:y[1])===o}))==null?void 0:c[0])==null?void 0:l.name)==null?void 0:d.split("|"))!=null&&n[0]&&localStorage.setItem("colorVibor",(U=(Q=(F=(V=(p=s==null?void 0:s.colors)==null?void 0:p.filter(x=>{var v,y;return((y=(v=x==null?void 0:x.name)==null?void 0:v.split("|"))==null?void 0:y[1])===o}))==null?void 0:V[0])==null?void 0:F.name)==null?void 0:Q.split("|"))==null?void 0:U[0])},[s]),a.useEffect(()=>{if(s!=null&&s.colors){let t=function(l){const d=parseInt(l.slice(1,3),16),n=parseInt(l.slice(3,5),16),p=parseInt(l.slice(5,7),16);return .299*d+.587*n+.114*p};const c=s==null?void 0:s.colors.sort((l,d)=>{const n=t(l.name.split("|")[0]);return t(d.name.split("|")[0])-n});rs(c)}},[s]),console.log("photos",k),a.useEffect(()=>{window.Dolyame&&window.Dolyame.init({productId:s.id,price:s.price,name:s.shortDescription,currency:"RUB"})},[s]),i.jsxs(i.Fragment,{children:[i.jsxs(gs,{children:[i.jsx("meta",{property:"og:title",content:h.title}),i.jsx("meta",{property:"og:description",content:h.description}),i.jsx("meta",{property:"og:url",content:h.url}),i.jsx("meta",{property:"og:image",content:h.image}),i.jsx("meta",{property:"og:site_name",content:h.siteName}),i.jsx("meta",{name:"description",content:h.description}),i.jsx("meta",{name:"keywords",content:h.keywords}),i.jsx("title",{children:h.title})]}),s&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"contectProductId",id:"topSity",children:[w(`(min-width: ${m})`)&&i.jsx("div",{className:"contectProductId__img",children:s.images&&(s==null?void 0:s.images.map((t,c)=>i.jsx("img",{onClick:()=>g({open:!0,img:t}),src:Y(t),alt:"imgProduct"},c)))}),w(`(max-width: ${m})`)&&i.jsx("div",{className:"contectProductId_phone",children:i.jsx(xs,{...ls,children:(G=s==null?void 0:s.images)==null?void 0:G.map((t,c)=>i.jsx("img",{className:"img_phone_items",src:Y(t),alt:"imgProduct"},c))})}),i.jsxs("div",{className:"contectProductId__info",children:[i.jsxs("div",{className:"header-div-product",children:[(s==null?void 0:s.newCollection)&&i.jsx("img",{src:js,alt:"NewCollection"}),i.jsxs("div",{children:[i.jsx("h2",{children:s==null?void 0:s.shortDescription}),i.jsx("p",{children:s==null?void 0:s.descriptionProduct})]}),i.jsxs("div",{className:"price-product ",children:[s.discount!=0&&i.jsxs("h4",{className:"skitka",children:[" ",i.jsxs(i.Fragment,{children:[s==null?void 0:s.price," ₽"]})]}),i.jsxs("h4",{children:[i.jsx("span",{children:s.discount!=0?(s==null?void 0:s.discount)||"AAAAAAAA":(s==null?void 0:s.price)||"000000"})," ","₽"]})]})]}),w(`(max-width: ${m})`)?i.jsxs("div",{className:"block-dalymi",onClick:()=>g({open:!0,img:ms,element:{priceDalymi:(s==null?void 0:s.discount)>0?(s==null?void 0:s.discount)/4:(s==null?void 0:s.price)/4,phone:!0}}),children:[i.jsxs("div",{children:[i.jsx("img",{src:E,alt:"dalymiIcon"}),i.jsxs("p",{children:["4 платежа по"," ",(s==null?void 0:s.discount)>0?(s==null?void 0:s.discount)/4:(s==null?void 0:s.price)/4," ","₽"]})]}),i.jsx("img",{src:ss,alt:"iconRightButtonDalymi"})]}):i.jsxs("div",{className:"block-dalymi",onClick:()=>g({open:!0,img:vs,element:{priceDalymi:(s==null?void 0:s.discount)>0?(s==null?void 0:s.discount)/4:(s==null?void 0:s.price)/4,type:!0}}),children:[i.jsxs("div",{children:[i.jsx("img",{src:E,alt:"dalymiIcon"}),i.jsxs("p",{children:["4 платежа по"," ",(s==null?void 0:s.discount)>0?(s==null?void 0:s.discount)/4:(s==null?void 0:s.price)/4," ","₽"]})]}),i.jsx("img",{src:ss,alt:"iconRightButtonDalymi"})]}),i.jsxs("div",{className:"color-div-product",children:[i.jsx("h2",{children:"Другие цвета"}),i.jsx("div",{children:Z.length&&Z.map((t,c)=>i.jsx(W,{to:`/product/${t.name.split("|")[1]}`,style:{borderColor:localStorage.getItem("colorVibor")==t.name.split("|")[0]&&"#000"},children:i.jsx("nav",{onClick:()=>{localStorage.setItem("colorVibor",t.name.split("|")[0]),_(t.name.split("|")[0])},style:{backgroundColor:t.name.startsWith("#")?t.name.split("|")[0]:`#${t.name.split("|")[0]}`,border:t.name.split("|")[0]=="ffffff"||t.name.split("|")[0]=="#ffffff"?"1px solid #333":"0px",borderRadius:"50%"}})},c))})]}),i.jsxs("div",{className:"size-div-product",children:[i.jsxs("nav",{className:"size-div-product-nav",children:[i.jsx("h2",{children:"Размер"}),w(`(max-width: ${m})`)&&i.jsxs("p",{style:{cursor:"pointer"},onClick:()=>g({open:!0,img:K}),children:[i.jsx("img",{src:J,alt:"lineyka"})," Размерная сетка"]})]}),i.jsx("div",{children:(s==null?void 0:s.sizes)&&((R=s==null?void 0:s.sizes)==null?void 0:R.sort((t,c)=>B.indexOf(t.sizeValue)-B.indexOf(c.sizeValue)).map((t,c)=>i.jsx("nav",{className:t.quantity==0&&"size-none",onClick:()=>{t.quantity!=0&&O(t.sizeValue)},style:{background:t.sizeValue==j&&"#408759",color:t.sizeValue==j&&"#fff",borderColor:t.sizeValue==j&&"transparent"},children:t.sizeValue},c)))}),w(`(min-width: ${m})`)&&i.jsxs("p",{style:{cursor:"pointer"},onClick:()=>g({open:!0,img:K}),children:[i.jsx("img",{src:J,alt:"lineyka"})," Размерная сетка"]})]}),i.jsxs("div",{className:"button-div-product",children:[i.jsx("div",{children:e?i.jsxs("div",{className:"add-to-basket button-product count-product",children:[i.jsx("button",{onClick:()=>{if(e>1)return u(e-1)},children:"-"}),i.jsx("span",{children:e}),i.jsx("button",{onClick:()=>{u(e+1)},children:"+"})]}):i.jsx("button",{className:"add-to-basket button-product",onClick:()=>{u(1)},children:"Добавить в корзину"})}),i.jsx(W,{onClick:()=>{u(1),A(s.id,e||!0)},to:"/placing-an-order",className:"on-click-buy button-product",children:"Купить в один клик"})]}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"100%",gap:"20px "},children:[i.jsxs("div",{className:"dop-info-product",children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",padding:"10px 0"},onClick:es,children:[i.jsx("h2",{style:{margin:0},children:"Описание"}),i.jsx("span",{style:{fontSize:"24px"},children:b?i.jsx(P,{}):i.jsx(f,{})})]}),i.jsx(M,{style:{height:"auto"},children:b&&i.jsx(z,{timeout:300,classNames:"fade",children:i.jsx("div",{className:"info-d-product",style:{padding:"10px 0"},children:i.jsx("div",{style:{fontSize:"14px"},dangerouslySetInnerHTML:{__html:($=s==null?void 0:s.fullDescription)==null?void 0:$.replace(/\n/g,"<br>")}})})})})]}),i.jsxs("div",{className:"dop-info-product",children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",padding:"10px 0"},onClick:()=>os(!N),children:[i.jsx("h2",{style:{margin:0},children:"Уход"}),i.jsx("span",{style:{fontSize:"24px"},children:N?i.jsx(P,{}):i.jsx(f,{})})]}),i.jsx(M,{style:{height:"auto"},children:N&&i.jsx(z,{timeout:300,classNames:"fade",children:i.jsx("div",{className:"info-d-product",style:{padding:"10px 0"},children:i.jsx("div",{style:{fontSize:"14px"},dangerouslySetInnerHTML:{__html:(X=s==null?void 0:s.care)==null?void 0:X.replace(/\n/g,"<br>")}})})})})]}),i.jsxs("div",{className:"dop-info-product",children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",padding:"10px 0"},onClick:()=>cs(!S),children:[i.jsx("h2",{style:{margin:0},children:"Доставка и возврат"}),i.jsx("span",{style:{fontSize:"24px"},children:S?i.jsx(P,{}):i.jsx(f,{})})]}),i.jsx(M,{style:{height:"auto"},children:S&&i.jsx(z,{timeout:300,classNames:"fade",children:i.jsx("div",{className:"info-d-product",style:{padding:"10px 0"},children:i.jsxs("div",{style:{fontSize:14},children:["Стандартная доставка занимает 3-7 рабочих дней."," ",i.jsx("br",{}),"Экспресс-доставка возможна за дополнительную плату и займет 1-3 рабочих дня. ",i.jsx("br",{}),"Вернуть или обменять товары возможно в течение 14 дней с момента получения заказа. ",i.jsx("br",{}),'Подробности о возвратах и обменах можно найти на нашей странице "Возвраты и обмены"']})})})})]})]})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"header headerBox2 headerBoxProbucts",style:{marginTop:"60px"},children:[i.jsx("div",{className:"headerCom1",children:i.jsx("h2",{children:"Дополни свой образ"})}),i.jsx("div",{className:"headerCom2"})]}),i.jsx(hs,{arrDataImg:k==null?void 0:k.filter((t,c)=>c<4)}),i.jsx(us,{})]})]}),I.open&&i.jsx(ys,{img:I.img,setImg:g,element:I.element})]})}export{Ns as default};
